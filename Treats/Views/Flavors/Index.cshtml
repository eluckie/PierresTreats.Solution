@{
  Layout = "_Layout";
}

@using Treats.Models;

@if (User.Identity.IsAuthenticated)
{
  <h2>@ViewBag.Nickname's Saved Flavors</h2>
  @if (Model.Count == 0)
  {
    <h5>No flavor profiles have been saved yet!</h5>
    <p>@Html.ActionLink("Add a New Flavor", "Create")</p>
  }
  else
  {
    <ul>
      @foreach (Flavor flavor in Model)
      {
        <li><h5>@Html.ActionLink($"{flavor.Description}", "Details", new { id = flavor.FlavorId })</h5></li>
      }
    </ul>
    <p>@Html.ActionLink("Add a New Flavor", "Create")</p>
  }
  @using (Html.BeginForm())
  {
    <input type="button" value="See All Flavors" onclick="showFlavorList()" id="see-flavors-button">
  }
  <br>
  <div id="flavor-list" class="hidden">
    <h2>All Current Flavor Profiles</h2>
    @if (@ViewBag.AllFlavors.Count == 0)
    {
      <h5>No flavor profiles have been added yet!</h5>
    }
    else
    {
      <ul>
        @foreach (Flavor flavor in @ViewBag.AllFlavors)
        {
          <li><h5>@Html.ActionLink($"{flavor.Description}", "Details", new { id = flavor.FlavorId })</h5></li>
        }
      </ul>
    }
    @using (Html.BeginForm())
    {
      <input type="button" value="Hide All Flavors" onclick="hideFlavorList()">
    }
  </div>
}
else
{
  <h2>All Current Flavor Profiles</h2>
  @if (Model.Count == 0)
  {
    <h5>No flavor profiles have been added yet!</h5>
  }
  else
  {
    <ul>
      @foreach (Flavor flavor in Model)
      {
        <li><h5>@Html.ActionLink($"{flavor.Description}", "Details", new { id = flavor.FlavorId })</h5></li>
      }
    </ul>
  }
}